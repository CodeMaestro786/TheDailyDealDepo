<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>The Daily Deal Depo</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="icon" href="https://i.ibb.co/6RQw1jJy/tddd.jpg">
</head>
<body>
<header class="site-header">
  <div class="container header-grid">
    <div class="brand">
      <img src="https://i.ibb.co/6RQw1jJy/tddd.jpg" alt="Daily Deal Depo" class="logo">
      <div>
        <h1>The Daily Deal Depo</h1>
        <p class="tag">Quality. Value. Convenience. Every day</p>
      </div>
    </div>
    <div class="header-actions">
      <a href="https://wa.me/27649076059" class="btn cta-whatsapp">üí¨ WhatsApp Us</a>
      <button class="btn btn-ghost" onclick="window.location.href='admin-login.html'">Admin</button>
    </div>
  </div>
</header>

<section class="hero">
  <div class="container hero-grid">
    <div class="hero-content">
      <h2>Benoni's trusted one-stop general dealer</h2>
      <p>Unbeatable prices on groceries, household goods, cleaning products, personal care and more.</p>
      <a href="#productsContainer" class="btn btn-primary">Shop Now</a>
    </div>
    <div class="hero-media">
      <img src="https://images.unsplash.com/photo-1586201375761-83865001e9d5?auto=format&fit=crop&w=800&q=60" alt="Groceries">
    </div>
  </div>
</section>

<section id="catalog" class="section container">
  <h3>üõçÔ∏è Browse Catalogue</h3>
  <div id="productsContainer" class="grid"></div>
</section>

<footer class="site-footer">
  <div class="container footer-grid">
    <div>
      <strong>The Daily Deal Depo</strong>
      <p>Benoni‚Äôs trusted general dealer ‚Äî quality, value, convenience.</p>
    </div>
    <div>
      <small>¬© <span id="year"></span> The Daily Deal Depo</small>
    </div>
  </div>
</footer>

<script type="module">
import { createClient } from 'https://cdn.jsdelivr.net/npm/@supabase/supabase-js/+esm';

const supabaseUrl = 'https://knjpzfhpharpsrnzpmvg.supabase.co';
const supabaseKey = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtuanB6ZmhwaGFycHNybnpwbXZnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTczMzg4OTgsImV4cCI6MjA3MjkxNDg5OH0.HO_p71TKAKYXEsMHoWVMgGWCk2rj9YajZs53BRRDTgU';
const supabase = createClient(supabaseUrl, supabaseKey);

async function loadProducts() {
  const { data, error } = await supabase.from('products').select('*');
  if(error) return console.error(error);
  const container = document.getElementById('productsContainer');
  container.innerHTML = '';
  data.forEach(product => {
    const div = document.createElement('div');
    div.classList.add('card');
    div.innerHTML = `
      <img src="${product.image}" alt="${product.name}">
      <h4>${product.name}</h4>
      <p>${product.description}</p>
      <div class="price">R${product.price}</div>
    `;
    container.appendChild(div);
  });
}

window.onload = loadProducts;
</script>
</body>
</html>
